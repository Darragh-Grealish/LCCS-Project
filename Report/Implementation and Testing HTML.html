<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="StyleSheet LCCS Project.css">
    <title>Implementation and Testing</title>
    <h1><center>Implementation and Testing</center></h1>
</head>
<body>

<div id="header"> <!-- Header Division -->
    <div id="nav"> 
        <p id="text" > <!-- The id="text" allows the function to change the text size of the text contained within -->
        <center>
        <!-- When button is clicked, corresponding function is called upon -->
        <button onclick='regular()'><h7>Regular</h7></button><!--Regular and Large Text-->
        &nbsp;&nbsp;&nbsp; <button onclick='large()'><h7>Large</h7></button>
        <!-- Below are hyperlinks linking each web page to one another -->
        &nbsp;&nbsp;&nbsp; <a href="Investigation and Plan HTML.html">Investigation and Plan</a>
        &nbsp;&nbsp;&nbsp; <a href="Design HTML.html">Design</a>
        &nbsp;&nbsp;&nbsp; <a href="Implementation and Testing HTML.html">Implementation and Testing</a>
        &nbsp;&nbsp;&nbsp; <a href="Evaluation HTML.html">Evaluation</a>
        &nbsp;&nbsp;&nbsp; <a href="Word Count HTML.html">Word Count</a>
        &nbsp;&nbsp;&nbsp; <a href="Reference HTML.html">References</a>
        </center>
        </p>
    </div>
</div>


<div id="content">
    <!--Project Timeline----------------------------------------------------------------------------->
    <div id="feature2">
        <h3>Project Timeline</h3>
       
        <img width="100%" src="images/GantChart1.0.PNG">
        <img width="100%" src="images/GantChart2.0.PNG">

        <h3>Challenges</h3>
        <ul>
            <li>Mock Exams created a challenge as I couldn’t get a significant amount of work done during these two weeks. However, I used this time to reflect on my project which helped me during my Evaluation Section of the write-up.</li>
            <li>Working on other school projects at the same time as this project was challenging as I needed to divide my time up appropriately to balance out the workload of each project</li>
        </ul>
    </div> 


    <!--Embedded System----------------------------------------------------------------------------->
    <div id="feature2">
        <img align="right" height="600px" src="images/MicroBit Flowchart PNG.png">
        
        <h3>Embedded System</h3>
        <p>My room monitoring system uses a Micro:bit to record metrics about the room and send them to a Python program to be processed.</p>
        <p>To begin, I familiarised myself with the Micro:bit and the MakeCode editor. I tested the Micro:bit and each sensor to make sure they functioned correctly. I started by writing up the code to read in the room temperature from the temperature sensor. </p>
        <p>To test my code, I displayed the metrics onto the OLED screen. Once that sensor was functioning, I followed the same steps to implement the flame, dust, and magnetic field sensors.</p>
        <p>(Flowchart of the Micro:bit control plane on the right)</p>
        
        <p>Step 1: The Micro:bit sets up a serial connection with the computer running the Python program and it initialises the OLED display.</p>
        <p>Step 2: The programme performs the following every three seconds:</p>
        <ul>
            <li>Reads in dust, temperature, door status and presence of a flame</li>
            <li>Displays temperature and dust values on the OLED screen</li>
            <li>Sends the four values to the Python program through the serial connection</li>
        </ul>
    </div>


    <!--Python Program-------------------------------------------------------------------------------------------->
    <div id="feature2">
        <img align="right" height="550px" src="images/Python Flowchart PNG.png">

        <h3>Python Program</h3>
        <p>Data from the Micro:bit is sent to this Python program, where it is cleaned and bundled up into timestamped records for storage in Firebase.</p>
        <p>I started off by setting up my IDE (Thonny) and python environment by installing the Firebase libraries onto Thonny. I experimented with reading in data from the Micro:bit by setting up the Micro:bit to send data through the Serial Port and for Python to receive this data through the serial port. When I could read in raw data reliably, I started to clean the data. This was done by printing the raw data into the console and cleaning the data line by line.</p>
        <p>Once the data was being cleaned consistently, I created a Firebase account using my google account. I selected the closest region to Ireland for lower latency and I loaded the Firebase credentials into Python and setup the Firebase client. </p>
        <p>I organised the data into a record and then posted it to Firebase. To test, I first sent mock data and checked the Firebase console to see if it had arrived. Then I used real Micro:bit data and check the console for its arrival.</p>
        <p>(Flowchart of the data-cleaning program control plane on the right)</p>
        <br>
        <p>Step 1: The python programme imports classes from Firebase and PySerial.</p>
        <p>Step 2: It forms a connection with Firebase using its hardcoded credentials.</p>
        
        <img align="right" height="250px" src="images/FirebasePNG.png">
        <p>Step 3: Sets the baud rate (speed of communication over a data channel) and opens the Serial Port.</p>
        
        <p>Step 4: The programme loops over the following actions:</p>
        <ul>
            <li>Finds the current time and reads in a line of data from Micro:bit.</li>
            <li>Cleans and bundles the data into time-stamped records.</li>
            <li>Sends the record to Firebase via a HTTP POST request.</li>
            <li>Waits for three seconds.</li>
        </ul>
    </div>
    
    
    <!--Monitor Device Page----------------------------------------------------------------->
    <div id="feature2">
        
        <img align="right" height="500px" src="images/Monitor Device Page PNG 2.PNG">
        <br>
        <h3>Monitor Your Device Page</h3><br>
        <p>This webpage is responsible for showing the user the data recorded by the micro:bit.</p>
        <p>To begin, I learned about the Firebase Software Development Kit) by reading their documentation and going through their samples. </p>
        <p>I had to import the Firebase library into the Javascript file. I loaded the credentials and setup a Firebase client. I used the client to retrieve the most recent data from Firebase. </p>
        <p>To test this code, I added mock data to the database and I logged the data to the browser console with console.log().</p>
        <p>I decided to use Plotly because it is covered in our school textbook. I re-familiarised myself with Plotly by going through the example in my Golden Key ‘Computer Science for Leaving Certificate’ book and referencing the Plotly website. </p>
        <p>I created Plotly graphs for each set of sensor data.</p>
        <br>
    </div>


    <!--Website Design-------------------------------------------------------------------------->
    <div id="feature2">
        <img align="right" height="800px" src="images/Website Contact Us Form PNG.png">
        
        <h3>Website Design</h3>
        <p>Our website is used to display the product supplied, allow users to access the Monitor Device page and display other information regarding smart homes.</p>
        <p>I drafted the content for the website in a text document. I used HTML and CSS to build up the website to resemble the wireframe (Design Page). </p>
        <p>I added features to make the website accessible to a larger audience. For instance:</p>
        <ul>
            <li>I used a clean and simple design</li>
            <li>I grouped data into text boxes</li>
            <li>I used percentages in CSS so it scales well on different display sizes</li>
            <li>I added a button to change the font size. The button calls a Javascript function to update the text size</li>
        </ul><img align="right" height="350px" src="images/Website Email Subscription PNG.png">

        <p>To give a concise explanation of home automation systems, I embedded an informative YouTube video.</p>
        <br><br><br><p><b>Email Subscription</b></p> 
        <p>Customers can subscribe to our news feed by entering their email I used my existing knowledge of Firebase to import the credentials and store the emails in Firebase.</p>          
        <p>(Email Subscription Flowchart on the right)</p>
        
        <br><br><br><img align="right" height="300px" src="images/Contact Us Field PNG.png"><p>It’s important that customers can give feedback and get in contact with us. On the right is the contact us form with implemented validation checks and a flowchart explaining the validation process. </p>  
        <br><p><b>Contact Us Flowchart</b></p>
        
        <p>Step 1:  When the webpage is loaded, the user can input the relevant details into the required fields.</p>       
        <p>Step 2:  The function runs through the inputs you entered once the “Submit” button is pressed.</p>
        <p>Step 3:  It checks the inputted data is valid and all fields of the form have been filled out.</p>
        <p>Step 4:   It then runs through each input one by one and when it finds a problem with the data entered, it will send an alert to the user who can change that input and try again.</p>  
    </div>


    <!--Conclusion---------------------------------------------------------------------------------->
    <div id="feature2">
        <h3>Conclusion</h3><iframe align="right" height="315px" width="560x" src="images/LCCS Demonstration Video.mp4"></iframe>  
        <p>Finally, I tested the system end-to-end. I verified that: </p>
        <ul>
            <li>The embedded system captures and passes data to the Python programme</li>
            <li>Python cleans and bundles the data into timestamped records</li>
            <li>Monitor Device page reads and graphs from data Firebase</li>
            <li>Email subscription stores data in Firebase </li>
            <li>The website displays all pages correctly </li>
        </ul>
        <br>
        <p>Here is the system working end-to-end with real-time data:</p>
        <p>Or you can use this YouTube Link: <a href="https://www.youtube.com/watch?v=_6h3kbOzw-0">https://www.youtube.com/watch?v=_6h3kbOzw-0</a></p>
    </div>

</div>

</body>    
</html>


<!------------------------------------------SCRIPT-------------------------------------------------------------------------->

<script src="LCCS JS Functions.js"></script> <!-- Linking the External JavaScript Page to this Page -->
